public class TimeSpent_Helper {
    
    private static boolean settingsLoaded = false;
    private static boolean enabled = false;
    private static Map<String,Time_Tracking__c> customSettingMap;
    
    private static final String SETTING_ENABLED = 'Enabled';
    
    public static boolean isEnabled(){
        if(!settingsLoaded){
            loadSettings();
        }
        
        String temp = '';
        try{
            System.debug('customSettingMap: '+customSettingMap);
            temp = customSettingMap.get(SETTING_ENABLED).Value__c;
            enabled = Boolean.valueOf(temp);
        } catch (Exception e){
            System.debug('Unable to load Custom Settings.');
        }
        
        return enabled;
    }
    
    private static void loadSettings(){
        settingsLoaded = true;
        
        customSettingMap = Time_Tracking__c.getAll();
        
    }

}